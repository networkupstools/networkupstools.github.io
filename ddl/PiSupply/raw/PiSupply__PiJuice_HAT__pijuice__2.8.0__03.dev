# DEVICE:URL:REPORT: https://github.com/PiSupply/PiJuice/issues/124#issuecomment-1018603688
# DEVICE:URL:VENDOR: https://uk.pi-supply.com/products/pijuice-standard

# DEVICE:COMMENT-BLOCK:UPSCONF:
# [hat]
#     driver = pijuice
#     port = /dev/i2c-1
#     desc = "PiJuice HAT"
# DEVICE:EOC

# DEVICE:COMMENT-BLOCK: DRIVER START LOG
#    0.000000     [D5] send_to_all: SETINFO driver.parameter.port "/dev/i2c-1"
#    0.000247     [D1] debug level is '6'
#    0.001303     [D5] send_to_all: SETINFO device.type "ups"
#    0.001446     [D3] get_firmware_version
#    0.002954     Unknown Firmware release: 1.4
#    0.003016     [D1] UPS Firmware Version: 1.4
#    0.003074     [D5] send_to_all: SETINFO ups.firmware "1.4"
#    0.003136     [D5] send_to_all: SETINFO driver.version "2.7.4-4385-g2bd17f540"
#    0.003195     [D5] send_to_all: SETINFO driver.version.internal "0.9"
#    0.003252     [D5] send_to_all: SETINFO driver.name "pijuice"
#    0.003309     [D5] send_to_all: SETINFO ups.mfr "PiJuice"
#    0.003365     [D5] send_to_all: SETINFO ups.type "HAT"
#    0.003422     [D5] send_to_all: SETINFO device.mfr "PiJuice"
#    0.003477     [D5] send_to_all: SETINFO device.type "HAT"
#    0.003533     [D1] Low Battery Threshold: 25%
#    0.003589     [D5] send_to_all: SETINFO battery.charge.low "25"
#    0.003642     [D1] Nominal Battery Voltage: 4.180V
#    0.003697     [D5] send_to_all: SETINFO battery.voltage.nominal "4.180"
#    0.003747     [D3] get_i2c_address
#    0.004934     [D1] I2C Address: 0x14
#    0.005001     [D1] Found device '0x14' on port '/dev/i2c-1'
#    0.005049     [D3] get_battery_profile
#    0.009196     [D1] Battery Capacity: 1.820Ah
#    0.009271     [D5] send_to_all: SETINFO battery.capacity "1.820"
#    0.009321     [D3] get_battery_profile_ext
#    0.014312     [D1] Battery Chemistry: LiPO
#    0.014389     [D5] send_to_all: SETINFO battery.type "LiPO"
#    0.014444     [D3] get_status
#    0.015638     [D1] Battery Status: Normal
#    0.015703     [D5] send_to_all: SETINFO battery.packs "1"
#    0.015763     [D5] send_to_all: SETINFO battery.packs.bad "0"
#    0.015814     [D1] Power Input: Not Present
#    0.015862     [D1] Power Input 5v: Present
#    0.015910     [D3] get_charge_level_hi_res
#    0.017323     [D1] Battery Charge Level: 51.0%
#    0.017389     [D5] send_to_all: SETINFO battery.charge "51.0"
#    0.017437     On USB power
#    0.017548     [D1] On USB power [1:0:0]
#    0.017599     [D1] Battery Charger Status: resting
#    0.017653     [D5] send_to_all: SETINFO battery.charger.status "resting"
#    0.017698     [D3] get_battery_temperature
#    0.018972     [D1] Battery Temperature: 123°C
#    0.019030     [D5] send_to_all: SETINFO battery.temperature "123"
#    0.019074     [D3] get_battery_voltage
#    0.020351     [D1] Battery Voltage: 3.700V
#    0.020406     [D5] send_to_all: SETINFO battery.voltage "3.700"
#    0.020448     [D3] get_battery_current
#    0.021728     [D1] Battery Current: 0.264A
#    0.021791     [D5] send_to_all: SETINFO battery.current "0.264"
#    0.021834     [D3] get_io_voltage
#    0.023122     [D1] Input Voltage: 4.994V
#    0.023176     [D5] send_to_all: SETINFO input.voltage "4.994"
#    0.023219     [D3] get_io_current
#    0.024520     [D1] Input Current: 0.064A
#    0.024578     [D5] send_to_all: SETINFO input.current "0.064"
#    0.024621     [D3] get_time
#    0.027337     [D1] UPS Time: 21:48:40.41
#    0.027400     [D5] send_to_all: SETINFO ups.time "21:48:40.41"
#    0.027445     [D1] UPS Date: 2022-01-21
#    0.027493     [D5] send_to_all: SETINFO ups.date "2022-01-21"
#    0.027536     [D3] get_power_off
#    0.028605     [D1] Power Off: DISABLED
#    0.028660     [D5] send_to_all: SETINFO ups.status "OL"
#    0.028705     [D5] send_to_all: DATAOK
#    0.028754     [D5] send_to_all: SETINFO driver.parameter.pollinterval "2"
#    0.028803     [D5] send_to_all: SETINFO driver.parameter.synchronous "no"
#    0.028851     [D3] get_status
#    0.029951     [D1] Battery Status: Normal
#    0.030010     [D1] Power Input: Not Present
#    0.030052     [D1] Power Input 5v: Present
#    0.030092     [D3] get_charge_level_hi_res
#    0.031379     [D1] Battery Charge Level: 51.0%
#    0.031431     [D1] On USB power [1:0:0]
#    0.031472     [D1] Battery Charger Status: resting
#    0.031516     [D3] get_battery_temperature
#    0.032790     [D1] Battery Temperature: 251°C
#    0.032845     [D5] send_to_all: SETINFO battery.temperature "251"
#    0.032888     [D3] get_battery_voltage
#    0.034167     [D1] Battery Voltage: 3.828V
#    0.034228     [D5] send_to_all: SETINFO battery.voltage "3.828"
#    0.034270     [D3] get_battery_current
#    0.035546     [D1] Battery Current: 0.264A
#    0.035596     [D3] get_io_voltage
#    0.036884     [D1] Input Voltage: 4.991V
#    0.036937     [D5] send_to_all: SETINFO input.voltage "4.991"
#    0.036979     [D3] get_io_current
#    0.038280     [D1] Input Current: 0.064A
#    0.038387     [D3] get_time
#    0.041102     [D1] UPS Time: 21:48:40.39
#    0.041158     [D5] send_to_all: SETINFO ups.time "21:48:40.39"
#    0.041202     [D1] UPS Date: 2022-01-21
#    0.041247     [D3] get_power_off
#    0.042321     [D1] Power Off: DISABLED
#    0.042380     [D3] get_status
#    0.043475     [D1] Battery Status: Normal
#    0.043527     [D1] Power Input: Not Present
#    0.043568     [D1] Power Input 5v: Present
#    0.043610     [D3] get_charge_level_hi_res
#    0.044899     [D1] Battery Charge Level: 51.0%
#    0.044952     [D1] On USB power [1:0:0]
#    0.044994     [D1] Battery Charger Status: resting
#    0.045038     [D3] get_battery_temperature
#    0.046314     [D1] Battery Temperature: 251°C
#    0.046372     [D3] get_battery_voltage
#    0.047647     [D1] Battery Voltage: 3.700V
#    0.047701     [D5] send_to_all: SETINFO battery.voltage "3.700"
#    0.047743     [D3] get_battery_current
#    0.049021     [D1] Battery Current: 0.264A
#    0.049071     [D3] get_io_voltage
#    0.050360     [D1] Input Voltage: 4.988V
#    0.050420     [D5] send_to_all: SETINFO input.voltage "4.988"
#    0.050462     [D3] get_io_current
#    0.051760     [D1] Input Current: 0.064A
#    0.051812     [D3] get_time
#    0.054527     [D1] UPS Time: 21:48:40.38
#    0.054588     [D5] send_to_all: SETINFO ups.time "21:48:40.38"
#    0.054633     [D1] UPS Date: 2022-01-21
#    0.054678     [D3] get_power_off
#    0.055747     [D1] Power Off: DISABLED
#    0.055797     [D3] Entering dstate_dump
# DEVICE:EOC

battery.capacity: 1.820	#BAD: Actual battery was 12000 mAh; possibly wrong DIP switch combo was in place to configure the HAT
battery.charge: 51.0	#BAD: (?) Not 100% but charger is "resting"...
battery.charge.low: 25
battery.charger.status: resting
battery.current: 0.264
battery.packs: 1
battery.packs.bad: 0
battery.temperature: 251	#BAD: Probably a 10x factor error
battery.type: LiPO
battery.voltage: 3.700
battery.voltage.nominal: 4.180
device.mfr: PiJuice
device.type: HAT
driver.name: pijuice
driver.parameter.pollinterval: 2
driver.parameter.port: /dev/i2c-1
driver.parameter.synchronous: no
driver.version: 2.7.4-4385-g2bd17f540
driver.version.internal: 0.9
input.current: 0.064
input.voltage: 4.988
ups.date: 2022-01-21
ups.firmware: 1.4
ups.mfr: PiJuice
ups.status: OL
ups.time: 21:48:40.38
ups.type: HAT
