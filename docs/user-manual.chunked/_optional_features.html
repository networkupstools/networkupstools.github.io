<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>H.4. Optional features</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="index.html" title="Network UPS Tools User Manual" /><link rel="up" href="Configure_options.html" title="H. Configure options" /><link rel="prev" href="_driver_selection.html" title="H.3. Driver selection" /><link rel="next" href="_other_configuration_options.html" title="H.5. Other configuration options" /><meta xmlns="" name="format-detection" content="telephone=no" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="_driver_selection.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="_other_configuration_options.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_optional_features"></a>H.4. Optional features</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_cgi_client_interface"></a>CGI client interface</h4></div></div></div><pre class="literallayout">--with-cgi (default: no)</pre><p>Build and install the optional CGI programs, HTML files, and sample
CGI configuration files. This is not enabled by default, as they
are only useful on web servers. See <a class="ulink" href="data/html/README" target="_top">data/html/README</a> for additional
information on how to set up CGI programs.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pretty_documentation_and_man_pages"></a>Pretty documentation and man pages</h4></div></div></div><pre class="literallayout">--with-doc=&lt;output-format(s)&gt;  (default: no)</pre><p>Build and install NUT documentation file(s).</p><p>This feature requires AsciiDoc 8.6.3 or newer (see <a class="ulink" href="https://asciidoc.org" target="_top">https://asciidoc.org</a>).</p><p>The possible documentation type values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="literal">html-single</code> for single page HTML,
</li><li class="listitem">
<code class="literal">html-chunked</code> for multi-paged HTML,
</li><li class="listitem">
<code class="literal">pdf</code> for a PDF file, and
</li><li class="listitem">
<code class="literal">man</code> for the usual manpages.
</li></ul></div><p>Other values understood for this option are listed below:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If the <code class="literal">--with-doc</code> argument is passed without a list, or specifies
  just <code class="literal">=yes</code> or <code class="literal">=all</code>, it enables all supported formats with a <code class="literal">=yes</code>
  to require them.
</li><li class="listitem">
An (explicit!) <code class="literal">--with-doc=auto</code> argument tries to enable all supported
  formats with an <code class="literal">=auto</code> but should not fail the build if something
  can not be generated.
</li><li class="listitem">
A <code class="literal">--with-doc=no</code> quietly skips generation of all types of documentation,
  including manpages.
</li><li class="listitem">
A <code class="literal">--with-doc=skip</code> is used to configure some of the <code class="literal">make distcheck*</code>
  scenarios to re-use man page files built and distributed by the main
  build and not waste time on re-generation of those.
</li><li class="listitem">
A <code class="literal">--with-doc=dist-auto</code> allows to use pre-distributed MAN pages if present
  (should be in "tarball" release archives; should not be among Git-tracked
  sources; may be left over from earlier builds in same workspace), or build
  those if we can (the <code class="literal">auto</code> part). Practically this is implemented in detail
  only for <code class="literal">--with-doc=man=dist-auto</code>, as we do not dist HTML and PDF products;
  it is a placeholder for those to simplify the generic configuration calls.
</li></ul></div><p>Multiple documentation format values can be specified, separated with comma.
Each such value can be suffixed with <code class="literal">=yes</code> to require building of this one
documentation format (abort configuration if tools are missing), <code class="literal">=auto</code> to
detect and enable if we can build it on this system (and not abort if we
can not), and <code class="literal">=no</code> (or <code class="literal">=skip</code>) to explicitly skip generation of this
document format even if we do have the tools to build it.</p><p>If a document format is mentioned in the list without a suffix, then it is
treated as a <code class="literal">=yes</code> requirement.</p><p>Verbose output can be enabled using: <code class="literal">ASCIIDOC_VERBOSE=-v make</code></p><p>Example valid formats of this flag:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="literal">--with-doc</code> without an argument, effectively same as <code class="literal">--with-doc=yes</code>
</li><li class="listitem">
<code class="literal">--with-doc=</code> is a valid empty list, effectively same as <code class="literal">--with-doc=no</code>
</li><li class="listitem">
<code class="literal">--with-doc=auto</code>
</li><li class="listitem">
<code class="literal">--with-doc=pdf,html-chunked</code>
</li><li class="listitem">
<code class="literal">--with-doc=man=no,pdf=auto,html-single</code>
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_python_support"></a>Python support</h4></div></div></div><p>NUT includes a client binding <code class="literal">PyNUT</code> module, as well as an optional GUI
application <code class="literal">NUT-Monitor</code> (not to be confused with <code class="literal">nut-monitor</code> service
name for <code class="literal">upsmon</code> as delivered by some OS distribution packages). Both
python 2.7 and several versions of python 3.x are supported and regularly
tested by NUT CI farm builds; other versions may work or not.</p><p>Also some of the source configuration (including activity in <code class="literal">autogen.sh</code>
script and later in certain <code class="literal">Makefile`s during build) relies on presence
of `python</code> (and <code class="literal">perl</code>) interpreters. If they are not available, e.g. on
older operating systems, certain features are skipped — but you may have
to <code class="literal">export</code> special environment variables to signal to <code class="literal">autogen.sh</code> that
this is an expected situation (it would suggest which, for your current
NUT version).</p><div class="note" style="margin-left: 0; margin-right: 10%;"><h3 class="title">Note</h3><p>For CI builds (or similar reproducible developer activity) performed
with <code class="literal">ci_build.sh</code> — since this is an area which impacts both <code class="literal">configure</code>
script generation by the helper <code class="literal">autogen.sh</code> script and subsequently the
choices made by the <code class="literal">configure</code> script itself, settings can be made by
exporting the <code class="literal">PYTHON</code> environment variable which should evaluate to some
way to call the correct interpreter (e.g. <code class="literal">python2.7</code>, <code class="literal">/usr/bin/env python</code>
or <code class="literal">/usr/bin/python3</code>).</p></div><p>The <code class="literal">configure</code> script does support equivalent options, whose defaults
come from detection of certain program names by current <code class="literal">PATH</code> setting.
Further use of these interpreter names and other paths during NUT build
and installation is managed by Makefile variable expansion, as prepared
by the <code class="literal">configure</code> script.</p><p>Also note that it is not required to use the same <code class="literal">PYTHON</code> implementation
for <code class="literal">autogen.sh</code> to do its job, and for the <code class="literal">configure</code> script option.</p><p>As noted above, both python-2.x and python-3.x variants are supported.
You can consult the <code class="literal">m4/nut_check_python.m4</code> file for detection methods used.
If both interpreter generations are present, and a particular un-versioned
<code class="literal">PYTHON</code> is not specified or detected, then selected/detected <code class="literal">PYTHON3</code> is
chosen as the ultimate <code class="literal">PYTHON</code> value.</p><p>For majority of uses in the build procedure and products, the generation
of Python does not matter and the un-versioned <code class="literal">PYTHON</code> value is substituted
into files as the script shebang, used to find the <code class="literal">site-packages</code> location,
etc.</p><p>One exception is generation of NUT-Monitor GUI application which has been
separated for <code class="literal">NUT-Monitor-py2gtk2</code> and <code class="literal">NUT-Monitor-py3qt5</code> due to further
backend platform technical differences — these build products specifically
use <code class="literal">PYTHON2</code> and <code class="literal">PYTHON3</code> substitutions. They may be co-installed on the
same system. A dispatcher shell script <code class="literal">NUT-Monitor</code> is used to launch the
preferred (newest) or the only existing implementation.</p><p>Please note that by default NUT tries to make use of everything in your
build environment, so if both Python generation are detected — the binding
module will be delivered into both, and two versions of NUT-Monitor GUI
application will be installed.  If you want to avoid that behaviour on a
build system with both interpreters present, you can explicitly specify
to build e.g. <code class="literal">--without-python2 --with-python=/usr/bin/python-3.9</code>.</p><p>The settings below may be of particular interest to non-distribution
packaging efforts with their own dedicated directory trees:</p><pre class="literallayout">--with-python=SHEBANG_PATH</pre><p>Specify a definitive version you want used for majority of the Python
code (except version-dependent scripts, see above).</p><p>The <code class="literal">SHEBANG_PATH</code> should be a full program pathname, optionally with
one argument, e.g. <code class="literal">/usr/bin/python-3.9</code> or <code class="literal">/usr/bin/env python2</code>.</p><p>Defaults (in order):
* <code class="literal">python</code>, <code class="literal">python3</code> or <code class="literal">python2</code> program if present in <code class="literal">PATH</code> by such name,
* or the newest of <code class="literal">PYTHON3</code> or <code class="literal">PYTHON2</code> values (specified or detected below).</p><pre class="literallayout">--with-python2=SHEBANG_PATH
--with-python3=SHEBANG_PATH</pre><p>For version-dependent scripts (see above) or to default the newest Python
version if not specified by <code class="literal">--with-python</code> option or detected otherwise,
you can provide the preferred version and implementation of Python 2 or 3
respectively.</p><p>Conversely, if neither of these configure options were specified, but some
<code class="literal">--with-python</code> program was specified or detected, and its report says it
has Python major version 2 or 3, then the versioned interpreter string would
point to that.</p><pre class="literallayout">--with-nut_monitor</pre><p>Install the NUT-Monitor GUI application (depending on Python 2 or 3 version
availability), and optional <code class="literal">desktop-file-install</code> integration).</p><pre class="literallayout">--with-pynut</pre><p>Install the PyNUT module files for general consumption into "site-packages"
location of the currently chosen Python interpreter(s): yes, no, auto.
or dedicated as the required dependency of NUT-Monitor application (app).</p><div class="warning" style="margin-left: 0; margin-right: 10%;"><h3 class="title">Warning</h3><p>The module files are installed into a particular Python version’s location
such as <code class="literal">/usr/lib/python2.7/dist-packages</code> even if you specify a relaxed
or un-versioned interpreter like <code class="literal">python2</code> (which would be used in scripts
for the NUT-Monitor application and possible other consumers of the module).
If the preferred Python version in the deployed system changes later (so the
<code class="literal">python2</code> symlink for this example would point elsewhere) the module import
would become not resolvable for such consumers, until it is installed into
that other Python’s "site-packages" location.</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_development_files"></a>Development files</h4></div></div></div><pre class="literallayout">--with-dev (default: no)</pre><p>Build and install the upsclient and nutclient library and header files, to
build further projects against NUT (such as wmNUT client and many others).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_options_for_developers"></a>Options for developers</h4></div></div></div><pre class="literallayout">--enable-spellcheck (default: auto)</pre><p>Activate recipes for documentation source file spelling checks with <code class="literal">aspell</code>
tool. Default behavior depends on availability of the tool, so if present — it would run for <code class="literal">make check</code> by default, to facilitate quicker acceptance
of contributions.</p><pre class="literallayout">--enable-check-NIT (default: no)</pre><p>Add <code class="literal">make check-NIT</code> to default activity of <code class="literal">make check</code> to run the
NUT Integration Testing suite. This is potentially dangerous (e.g. due
to port conflicts when running many such tests in same environment),
so not active by default.</p><pre class="literallayout">--enable-maintainer-mode (default: no)</pre><p>Use maintainer mode to keep <code class="literal">Makefile.in</code> and <code class="literal">Makefile</code> in sync with
ever-changing <code class="literal">Makefile.am</code> content after Git updates or editing.</p><pre class="literallayout">--enable-cppcheck (default: no)</pre><p>Activate recipes for static analysis with <code class="literal">cppcheck</code> tools (if available).</p><pre class="literallayout">--with-unmapped-data-points (default: no)</pre><p>Build SNMP and USB-HID subdrivers with entries discovered by the scripts
which generated them from data walks, but developers did not rename yet
to NUT mappings conforming to <code class="literal">docs/nut-names.txt</code> standards. Production
driver builds must not include any non-standard names.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_i_want_it_all"></a>I want it all!</h4></div></div></div><pre class="literallayout">--with-all (no default)</pre><p>Build and install all of the above (the serial, USB, SNMP, XML/HTTP and
PowerMan drivers, the CGI programs and HTML files, and the upsclient
library).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_networking_transport_security"></a>Networking transport security</h4></div></div></div><pre class="literallayout">--with-ssl (default: auto-detect)
--with-nss (default: auto-detect)
--with-openssl (default: auto-detect)</pre><p>Enable SSL support, using either Mozilla NSS or OpenSSL.</p><p>If both are present, and nothing was specified, OpenSSL support will
be preferred.</p><p>Read <a class="ulink" href="docs/security.txt" target="_top">docs/security.txt</a> for instructions on SSL support.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><h3 class="title">Note</h3><p>Currently the two implementations differ in supported features.</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_networking_access_security"></a>Networking access security</h4></div></div></div><pre class="literallayout">--with-wrap (default: auto-detect)</pre><p>Enable libwrap (tcp-wrappers) support.</p><p>Refer to <a class="ulink" href="../man/upsd.html" target="_top">upsd(8)</a> man page for more information.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_networking_ipv6"></a>Networking IPv6</h4></div></div></div><pre class="literallayout">--with-ipv6 (default: auto-detect)</pre><p>Enable IPv6 support.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_avahi_mdns"></a>AVAHI/mDNS</h4></div></div></div><pre class="literallayout">--with-avahi (default: auto-detect)</pre><p>Build and install Avahi support, to publish NUT server availability
using mDNS protocol.  This requires Avahi development files for the
Core and Client parts.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_libltdl"></a>LibLTDL</h4></div></div></div><pre class="literallayout">--with-libltdl (default: auto-detect)</pre><p>Enable libltdl (Libtool dlopen abstraction) support.</p><p>This is required to build <code class="literal">nut-scanner</code> which loads third-party libraries
dynamically, based on requested scanning options. This allows to build and
package the tool without requiring all possible dependencies to be installed
in each run-time environment.</p></div></div><div xmlns="" class="navfooter nut_footer"><hr />
		Last updated 2024-07-26 17:50:57 -- Network UPS Tools 2.8.2.1</div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_driver_selection.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="Configure_options.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="_other_configuration_options.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>