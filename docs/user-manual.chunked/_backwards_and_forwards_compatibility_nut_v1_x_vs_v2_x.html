<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>J.5. Backwards and Forwards Compatibility (NUT v1.x vs. v2.x)</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="index.html" title="Network UPS Tools User Manual" /><link rel="up" href="Project_History.html" title="J. Project history" /><link rel="prev" href="_leaving_0_x_territory.html" title="J.4. Leaving 0.x territory" /><link rel="next" href="_networkupstools_org.html" title="J.6. networkupstools.org" /><meta xmlns="" name="format-detection" content="telephone=no" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="_leaving_0_x_territory.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="_networkupstools_org.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_backwards_and_forwards_compatibility_nut_v1_x_vs_v2_x"></a>J.5. Backwards and Forwards Compatibility (NUT v1.x vs. v2.x)</h3></div></div></div><p>The old network code spans a range from about 0.41.1 when TCP support
was introduced up to the recent 1.4 series.  It used variable names
like STATUS, UTILITY, and LOADPCT.  Many of these names go back to the
earliest prototypes of this software from 1997.  At that point there
was no way to know that so many drivers would come along and introduce
so many new variables and commands.  The resulting mess grew out of
control over the years.</p><p>During the 1.3 development cycle, all variables and instant commands
were renamed to fit into a tree-like structure.  There are major groups,
like input, output and battery.  Members of those groups have been
arranged to make sense - input.voltage and output.voltage compliment
each other.  The old names were UTILITY and OUTVOLT.  The benefits in
this change are obvious.</p><p>The 1.4 clients can talk to either type of server, and can handle either
naming scheme.  1.4 servers have a compatibility mode where they can
answer queries for both names, even though the drivers are internally
using the new format.</p><p>When 1.4 clients talk to 1.4 or 2.0 (or more recent) servers, they will
use the new names.</p><p>Here’s a table to make it easier to visualize:</p><div class="informaltable"><table class="informaltable" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">                   </th><th style="border-bottom: 1px solid #527bbd; " colspan="4" align="left" valign="top"> Server version</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Client version</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.4</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>2.0+</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.0</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>no</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.2</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>no</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>1.4</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>2.0+</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>no</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>no</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>yes</p></td><td style="" align="left" valign="top"><p>yes</p></td></tr></tbody></table></div><p>Version 2.0, and more recent, do not contain backwards compatibility for
the old protocol and variable/command names.  As a result, 2.0 clients can’t
talk to anything older than a 1.4 server.  If you ask a 2.0 client to
fetch "STATUS", it will fail.  You’ll have to ask for "ups.status"
instead.</p><p>Authors of separate monitoring programs should have used the 1.4 series
to write support for the new variables and command names.  Client
software can easily support both versions as long as they like.  If upsd
returns <span class="emphasis"><em>ERR UNKNOWN-COMMAND</em></span> to a GET request, you need to use REQ.</p></div><div xmlns="" class="navfooter nut_footer"><hr />
		Last updated 2025-01-15 23:54:58 -- Network UPS Tools 2.8.2.1898</div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_leaving_0_x_territory.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="Project_History.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="_networkupstools_org.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>