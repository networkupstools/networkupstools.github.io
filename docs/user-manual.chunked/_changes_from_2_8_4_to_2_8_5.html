<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>I.1. Changes from 2.8.4 to 2.8.5</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="index.html" title="Network UPS Tools User Manual" /><link rel="up" href="Upgrading_notes.html" title="I. Upgrading notes" /><link rel="prev" href="Upgrading_notes.html" title="I. Upgrading notes" /><link rel="next" href="_changes_from_2_8_3_to_2_8_4.html" title="I.2. Changes from 2.8.3 to 2.8.4" /><meta xmlns="" name="format-detection" content="telephone=no" /><script xmlns="" type="text/javascript">

// @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&dn=expat.txt Expat
//
// AnchorJS - v5.0.0 - 2023-01-18
// https://www.bryanbraun.com/anchorjs/
// Copyright (c) 2023 Bryan Braun; Licensed MIT
//
// @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&dn=expat.txt Expat
!function(A,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():(A.AnchorJS=e(),A.anchors=new A.AnchorJS)}(globalThis,function(){"use strict";return function(A){function u(A){A.icon=Object.prototype.hasOwnProperty.call(A,"icon")?A.icon:"",A.visible=Object.prototype.hasOwnProperty.call(A,"visible")?A.visible:"hover",A.placement=Object.prototype.hasOwnProperty.call(A,"placement")?A.placement:"right",A.ariaLabel=Object.prototype.hasOwnProperty.call(A,"ariaLabel")?A.ariaLabel:"Anchor",A.class=Object.prototype.hasOwnProperty.call(A,"class")?A.class:"",A.base=Object.prototype.hasOwnProperty.call(A,"base")?A.base:"",A.truncate=Object.prototype.hasOwnProperty.call(A,"truncate")?Math.floor(A.truncate):64,A.titleText=Object.prototype.hasOwnProperty.call(A,"titleText")?A.titleText:""}function d(A){var e;if("string"==typeof A||A instanceof String)e=[].slice.call(document.querySelectorAll(A));else{if(!(Array.isArray(A)||A instanceof NodeList))throw new TypeError("The selector provided to AnchorJS was invalid.");e=[].slice.call(A)}return e}this.options=A||{},this.elements=[],u(this.options),this.add=function(A){var e,t,o,i,n,s,a,r,l,c,h,p=[];if(u(this.options),0!==(e=d(A=A||"h2, h3, h4, h5, h6")).length){for(null===document.head.querySelector("style.anchorjs")&&((A=document.createElement("style")).className="anchorjs",A.appendChild(document.createTextNode("")),void 0===(h=document.head.querySelector('[rel="stylesheet"],style'))?document.head.appendChild(A):document.head.insertBefore(A,h),A.sheet.insertRule(".anchorjs-link{opacity:0;text-decoration:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}",A.sheet.cssRules.length),A.sheet.insertRule(":hover>.anchorjs-link,.anchorjs-link:focus{opacity:1}",A.sheet.cssRules.length),A.sheet.insertRule("[data-anchorjs-icon]::after{content:attr(data-anchorjs-icon)}",A.sheet.cssRules.length),A.sheet.insertRule('@font-face{font-family:anchorjs-icons;src:url(data:n/a;base64,AAEAAAALAIAAAwAwT1MvMg8yG2cAAAE4AAAAYGNtYXDp3gC3AAABpAAAAExnYXNwAAAAEAAAA9wAAAAIZ2x5ZlQCcfwAAAH4AAABCGhlYWQHFvHyAAAAvAAAADZoaGVhBnACFwAAAPQAAAAkaG10eASAADEAAAGYAAAADGxvY2EACACEAAAB8AAAAAhtYXhwAAYAVwAAARgAAAAgbmFtZQGOH9cAAAMAAAAAunBvc3QAAwAAAAADvAAAACAAAQAAAAEAAHzE2p9fDzz1AAkEAAAAAADRecUWAAAAANQA6R8AAAAAAoACwAAAAAgAAgAAAAAAAAABAAADwP/AAAACgAAA/9MCrQABAAAAAAAAAAAAAAAAAAAAAwABAAAAAwBVAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAMCQAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAg//0DwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAAIAAAACgAAxAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADAAAAAIAAgAAgAAACDpy//9//8AAAAg6cv//f///+EWNwADAAEAAAAAAAAAAAAAAAAACACEAAEAAAAAAAAAAAAAAAAxAAACAAQARAKAAsAAKwBUAAABIiYnJjQ3NzY2MzIWFxYUBwcGIicmNDc3NjQnJiYjIgYHBwYUFxYUBwYGIwciJicmNDc3NjIXFhQHBwYUFxYWMzI2Nzc2NCcmNDc2MhcWFAcHBgYjARQGDAUtLXoWOR8fORYtLTgKGwoKCjgaGg0gEhIgDXoaGgkJBQwHdR85Fi0tOAobCgoKOBoaDSASEiANehoaCQkKGwotLXoWOR8BMwUFLYEuehYXFxYugC44CQkKGwo4GkoaDQ0NDXoaShoKGwoFBe8XFi6ALjgJCQobCjgaShoNDQ0NehpKGgobCgoKLYEuehYXAAAADACWAAEAAAAAAAEACAAAAAEAAAAAAAIAAwAIAAEAAAAAAAMACAAAAAEAAAAAAAQACAAAAAEAAAAAAAUAAQALAAEAAAAAAAYACAAAAAMAAQQJAAEAEAAMAAMAAQQJAAIABgAcAAMAAQQJAAMAEAAMAAMAAQQJAAQAEAAMAAMAAQQJAAUAAgAiAAMAAQQJAAYAEAAMYW5jaG9yanM0MDBAAGEAbgBjAGgAbwByAGoAcwA0ADAAMABAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAP) format("truetype")}',A.sheet.cssRules.length)),h=document.querySelectorAll("[id]"),t=[].map.call(h,function(A){return A.id}),i=0;i<e.length;i++)if(this.hasAnchorJSLink(e[i]))p.push(i);else{if(e[i].hasAttribute("id"))o=e[i].getAttribute("id");else if(e[i].hasAttribute("data-anchor-id"))o=e[i].getAttribute("data-anchor-id");else{for(r=a=this.urlify(e[i].textContent),s=0;n=t.indexOf(r=void 0!==n?a+"-"+s:r),s+=1,-1!==n;);n=void 0,t.push(r),e[i].setAttribute("id",r),o=r}(l=document.createElement("a")).className="anchorjs-link "+this.options.class,l.setAttribute("aria-label",this.options.ariaLabel),l.setAttribute("data-anchorjs-icon",this.options.icon),this.options.titleText&&(l.title=this.options.titleText),c=document.querySelector("base")?window.location.pathname+window.location.search:"",c=this.options.base||c,l.href=c+"#"+o,"always"===this.options.visible&&(l.style.opacity="1"),""===this.options.icon&&(l.style.font="1em/1 anchorjs-icons","left"===this.options.placement)&&(l.style.lineHeight="inherit"),"left"===this.options.placement?(l.style.position="absolute",l.style.marginLeft="-1.25em",l.style.paddingRight=".25em",l.style.paddingLeft=".25em",e[i].insertBefore(l,e[i].firstChild)):(l.style.marginLeft=".1875em",l.style.paddingRight=".1875em",l.style.paddingLeft=".1875em",e[i].appendChild(l))}for(i=0;i<p.length;i++)e.splice(p[i]-i,1);this.elements=this.elements.concat(e)}return this},this.remove=function(A){for(var e,t,o=d(A),i=0;i<o.length;i++)(t=o[i].querySelector(".anchorjs-link"))&&(-1!==(e=this.elements.indexOf(o[i]))&&this.elements.splice(e,1),o[i].removeChild(t));return this},this.removeAll=function(){this.remove(this.elements)},this.urlify=function(A){var e=document.createElement("textarea");return e.innerHTML=A,A=e.value,this.options.truncate||u(this.options),A.trim().replace(/'/gi,"").replace(/[& +$,:;=?@"#{}|^~[`%!'<>\]./()*\\\n\t\b\v\u00A0]/g,"-").replace(/-{2,}/g,"-").substring(0,this.options.truncate).replace(/^-+|-+$/gm,"").toLowerCase()},this.hasAnchorJSLink=function(A){var e=A.firstChild&&-1<(" "+A.firstChild.className+" ").indexOf(" anchorjs-link "),A=A.lastChild&&-1<(" "+A.lastChild.className+" ").indexOf(" anchorjs-link ");return e||A||!1}}});
// @license-end

		</script><style xmlns="" type="text/css">
		a.anchorjs-link {
			color: inherit;
			text-decoration: inherit;
		}
		a.anchorjs-link:visited {
			color: inherit;
			text-decoration: inherit;
		}
	</style></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="Upgrading_notes.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="_changes_from_2_8_3_to_2_8_4.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_changes_from_2_8_4_to_2_8_5"></a>I.1. Changes from 2.8.4 to 2.8.5</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
PLANNED: Keep track of any further API clean-up?
</li><li class="listitem">
For ages, most recipes for building NUT had customized the <code class="literal">sysconfdir</code> to
  be <code class="literal">/etc/nut</code>, which is not exactly the <span class="strong"><strong>system</strong></span> configuration directory.
  This is finally deprecated, with new <code class="literal">--with-confdir</code> configuration option
  taking over the role of a full path to configuration files (by default
  <code class="literal">${sysconfdir}${confdir_suffix}</code>), and new <code class="literal">--with-confdir-suffix</code> allowing
  to specify just <code class="literal">/nut</code> or <code class="literal">/ups</code> that would be tacked onto the default
  <code class="literal">${sysconfdir}</code> to resolve the <code class="literal">${confdir}</code>. Default behavior should be
  same as with previous builds: if <code class="literal">sysconfdir</code> is customized (or <code class="literal">prefix</code>
  is kept at built-in default), the <code class="literal">confdir_suffix</code> will default to empty;
  otherwise it assumes the value of <code class="literal">/${PACKAGE_NAME}</code> to become <code class="literal">/nut</code> in
  most cases. A <code class="literal">--with-confdir-examples</code> option was also introduced, to
  help distributions that place <code class="literal">*.conf.sample</code> files into docs or other
  locations. [<a class="ulink" href="https://github.com/networkupstools/nut/issues/3131" target="_top">#3131</a>]
</li><li class="listitem">
Source directory <code class="literal">data/html</code> was renamed to <code class="literal">data/htmlcgi</code> in order to better
  reflect its contents and purpose, compared to documentation-oriented <code class="literal">html*</code>
  directories (and recipe variable names). This may impact some packaging
  recipes which do not rely on <code class="literal">make install</code> alone. [<a class="ulink" href="https://github.com/networkupstools/nut/issues/3049" target="_top">#3049</a>]
</li><li class="listitem">
Some fixes were applied to HTML templates for NUT CGI clients. It can be
  useful for NUT deployments being upgraded to compare the files they have
  installed (and possibly customized) with the <code class="literal">*.html.sample</code> files delivered
  by the new build. [<a class="ulink" href="https://github.com/networkupstools/nut/pull/3180" target="_top">PR #3180</a>]
</li><li class="listitem">
Dropped the <code class="literal">compile</code> script from Git sources. It originates from automake
  and is added to work area (if missing) during <code class="literal">autogen.sh</code> rituals anyway
  (as <code class="literal">make</code> says, <code class="literal">'automake --add-missing' can install 'compile'</code> when you
  run without it). It is still distributed as part of <code class="literal">make dist</code> tarball.
  We are open to any feedback whether this removal impacts NUT rebuilds on
  any systems. [<a class="ulink" href="https://github.com/networkupstools/nut/issues/1209" target="_top">#1209</a>]
</li><li class="listitem">
Default <code class="literal">PIDPATH</code> is now more strictly <code class="literal">/var/run</code>, unless building on a
  system conforming to FHS-3.0 standard where that location is absent or
  is a symlink, while <code class="literal">/run</code> exists and is a true directory. Package recipes
  usually override <code class="literal">--with-pidpath</code> anyway to provide a dedicated location
  for NUT <code class="literal">root</code>-owned daemon PID files. [<a class="ulink" href="https://github.com/networkupstools/nut/issues/3099" target="_top">#3099</a>]
</li><li class="listitem">
In drivers using the common <code class="literal">main.c</code> and <code class="literal">main.h</code> framework, introduced
  a <code class="literal">void upsdrv_tweak_prognames(void)</code> required method (may be no-op) to
  optionally tweak <code class="literal">prognames[]</code> entries now that there is certain support
  to accept program name aliases, not just one hard-coded string value.
  Any third-party drivers may require rebuilding to extend with this method.
  Any drivers that would undergo promotion with renaming can take advantage
  of this new facility to keep working under both old and new file names.
  [<a class="ulink" href="https://github.com/networkupstools/nut/issues/3101" target="_top">#3101</a>]
</li><li class="listitem">
Fixed man page naming for <code class="literal">nutdrv_siemens-sitop(.8)</code> (dash vs. underscore)
  to match the driver program name. Packaging recipes may have to be updated.
  Follow-up from slightly botched renaming in original contribution. [<a class="ulink" href="https://github.com/networkupstools/nut/pull/545" target="_top">PR #545</a>]
</li><li class="listitem">
The <code class="literal">configure</code> script would now probe (if it can) the operating systems for
  more user and group account names, such as <code class="literal">upsmon</code>, <code class="literal">nutmon</code>, <code class="literal">ups</code>, <code class="literal">nut</code>
  (last hit wins, separately for user and groups accounts) settling on one of
  those if detected instead of <code class="literal">nobody</code> (and optionally <code class="literal">nogroup</code>). It would
  also warn if <code class="literal">nobody</code> or <code class="literal">nogroup</code> end up being used for a build. This is
  not likely to affect package builds (which usually define the accounts to
  use), but may (hopefully positively) affect rebuilds of NUT on systems where
  an older version is already deployed. [<a class="ulink" href="https://github.com/networkupstools/nut/issues/3173" target="_top">#3173</a>]
</li><li class="listitem">
The <code class="literal">configure</code> script should now try harder to report specifically
  the "purelib" location as <code class="literal">PYTHON*_SITE_PACKAGES</code>. Packaging recipes
  may have to be updated. [<a class="ulink" href="https://github.com/networkupstools/nut/issues/1209" target="_top">#1209</a>]
</li><li class="listitem">
New supported values were introduced for <code class="literal">--with-python{,2,3}=auto-prio=NUM</code>:
  this allows to auto-prioritize some <span class="strong"><strong>one</strong></span> available Python interpreter.
  Default settings were changed from plain <code class="literal">auto</code> (allowing for multiple
  <code class="literal">python*</code> interpreters and <code class="literal">site-package</code> locations to be used), to
  prefer a <code class="literal">python3</code> if available, else <code class="literal">python2</code>, else <code class="literal">python</code>, and
  forget about others even if discovered. Packaging recipes may have to be
  updated, either to explicitly package the binding for several versions,
  or to not-deliver files no longer installed into the prototype area. [<a class="ulink" href="https://github.com/networkupstools/nut/issues/1792" target="_top">#1792</a>]
</li></ul></div></div><div xmlns="" class="navfooter nut_footer"><hr />
		Last updated 2025-12-16 09:31:29 -- Network UPS Tools 2.8.4.888</div><script xmlns="" type="text/javascript">anchors.add();</script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="Upgrading_notes.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="Upgrading_notes.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="_changes_from_2_8_3_to_2_8_4.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>