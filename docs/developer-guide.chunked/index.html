<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network UPS Tools Developer Guide</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="index.html" title="Network UPS Tools Developer Guide" /><link rel="next" href="_introduction.html" title="1. Introduction" /><meta xmlns="" name="format-detection" content="telephone=no" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="_introduction.html">Next</a></td></tr></table><hr /></div><div xml:lang="en" class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="idm1"></a>Network UPS Tools Developer Guide</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Russell Kroll, Arnaud Quette, Charles Lepple, Peter Selinger, Jim Klimov and NUT project community contributors</span></h3></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="_introduction.html">1. Introduction</a></span></dt><dt><span class="section"><a href="design.html">2. NUT design document</a></span></dt><dd><dl><dt><span class="section"><a href="design.html#_the_layering">2.1. The layering</a></span></dt><dt><span class="section"><a href="design.html#_how_information_gets_around">2.2. How information gets around</a></span></dt><dt><span class="section"><a href="design.html#_instant_commands">2.3. Instant commands</a></span></dt><dt><span class="section"><a href="design.html#_setting_variables">2.4. Setting variables</a></span></dt><dt><span class="section"><a href="design.html#_example_data_path">2.5. Example data path</a></span></dt><dt><span class="section"><a href="design.html#_history">2.6. History</a></span></dt></dl></dd><dt><span class="section"><a href="versioning.html">3. NUT Semantic Versioning</a></span></dt><dd><dl><dt><span class="section"><a href="versioning.html#_historic_note">3.1. Historic note</a></span></dt><dt><span class="section"><a href="versioning.html#_current_nut_semver_definition">3.2. Current NUT SEMVER definition</a></span></dt><dt><span class="section"><a href="versioning.html#_using_gitlog2version_sh">3.3. Using gitlog2version.sh</a></span></dt><dt><span class="section"><a href="versioning.html#_variables_propagated_by_configure_ac">3.4. Variables propagated by configure.ac</a></span></dt><dt><span class="section"><a href="versioning.html#_variables_propagated_by_nut_version_h">3.5. Variables propagated by nut_version.h</a></span></dt><dt><span class="section"><a href="versioning.html#_use_in_c_code">3.6. Use in C code</a></span></dt></dl></dd><dt><span class="section"><a href="developers.html">4. Information for developers</a></span></dt><dd><dl><dt><span class="section"><a href="developers.html#_general_stuff_8201_8212_8201_common_subdirectory">4.1. General stuff — common subdirectory</a></span></dt><dt><span class="section"><a href="developers.html#_device_drivers_8201_8212_8201_main_c">4.2. Device drivers — main.c</a></span></dt><dt><span class="section"><a href="developers.html#_portability">4.3. Portability</a></span></dt><dt><span class="section"><a href="developers.html#_continuous_integration_and_automated_builds">4.4. Continuous Integration and Automated Builds</a></span></dt><dt><span class="section"><a href="developers.html#_integrated_development_environments_ides_and_debugging_nut">4.5. Integrated Development Environments (IDEs) and debugging NUT</a></span></dt><dt><span class="section"><a href="developers.html#_coding_style">4.6. Coding style</a></span></dt><dt><span class="section"><a href="developers.html#_miscellaneous_coding_style_tools">4.7. Miscellaneous coding style tools</a></span></dt><dt><span class="section"><a href="developers.html#_submitting_patches">4.8. Submitting patches</a></span></dt><dt><span class="section"><a href="developers.html#_patch_cohesion">4.9. Patch cohesion</a></span></dt><dt><span class="section"><a href="developers.html#_the_finishing_touches_manual_pages_and_device_entry_in_hcl">4.10. The finishing touches: manual pages and device entry in HCL</a></span></dt><dt><span class="section"><a href="developers.html#_source_code_management">4.11. Source code management</a></span></dt><dt><span class="section"><a href="developers.html#_ignoring_generated_files">4.12. Ignoring generated files</a></span></dt><dt><span class="section"><a href="developers.html#_commit_message_formatting">4.13. Commit message formatting</a></span></dt><dt><span class="section"><a href="developers.html#_commit_sign_off">4.14. Commit sign-off</a></span></dt><dt><span class="section"><a href="developers.html#_repository_etiquette_and_quality_assurance">4.15. Repository etiquette and quality assurance</a></span></dt><dt><span class="section"><a href="developers.html#building">4.16. Building the Code</a></span></dt></dl></dd><dt><span class="section"><a href="new-drivers.html">5. Creating a new driver to support another device</a></span></dt><dd><dl><dt><span class="section"><a href="new-drivers.html#_smart_vs_contact_closure">5.1. Smart vs. Contact-closure</a></span></dt><dt><span class="section"><a href="new-drivers.html#_serial_vs_usb_vs_snmp_and_more">5.2. Serial vs. USB vs. SNMP and more</a></span></dt><dt><span class="section"><a href="new-drivers.html#_overall_concept">5.3. Overall concept</a></span></dt><dt><span class="section"><a href="new-drivers.html#_skeleton_driver">5.4. Skeleton driver</a></span></dt><dt><span class="section"><a href="new-drivers.html#_essential_structure">5.5. Essential structure</a></span></dt><dt><span class="section"><a href="new-drivers.html#_essential_functions">5.6. Essential functions</a></span></dt><dt><span class="section"><a href="new-drivers.html#_data_types">5.7. Data types</a></span></dt><dt><span class="section"><a href="new-drivers.html#_manipulating_the_data">5.8. Manipulating the data</a></span></dt><dt><span class="section"><a href="new-drivers.html#_ups_alarms">5.9. UPS alarms</a></span></dt><dt><span class="section"><a href="new-drivers.html#_staleness_control">5.10. Staleness control</a></span></dt><dt><span class="section"><a href="new-drivers.html#_serial_port_handling">5.11. Serial port handling</a></span></dt><dt><span class="section"><a href="new-drivers.html#_usb_port_handling">5.12. USB port handling</a></span></dt><dt><span class="section"><a href="new-drivers.html#_variable_names">5.13. Variable names</a></span></dt><dt><span class="section"><a href="new-drivers.html#commands">5.14. Message passing support</a></span></dt><dt><span class="section"><a href="new-drivers.html#_enumerated_types">5.15. Enumerated types</a></span></dt><dt><span class="section"><a href="new-drivers.html#_range_values">5.16. Range values</a></span></dt><dt><span class="section"><a href="new-drivers.html#_writable_strings">5.17. Writable strings</a></span></dt><dt><span class="section"><a href="new-drivers.html#_instant_commands_2">5.18. Instant commands</a></span></dt><dt><span class="section"><a href="new-drivers.html#_delays_and_ser__functions">5.19. Delays and ser_* functions</a></span></dt><dt><span class="section"><a href="new-drivers.html#_canonical_input_mode_processing">5.20. Canonical input mode processing</a></span></dt><dt><span class="section"><a href="new-drivers.html#_adding_the_driver_into_the_tree">5.21. Adding the driver into the tree</a></span></dt><dt><span class="section"><a href="new-drivers.html#contact-closure">5.22. Contact closure hardware information</a></span></dt><dt><span class="section"><a href="new-drivers.html#hid-subdrivers">5.23. How to make a new subdriver to support another USB/HID UPS</a></span></dt><dt><span class="section"><a href="new-drivers.html#snmp-subdrivers">5.24. How to make a new subdriver to support another SNMP device</a></span></dt><dt><span class="section"><a href="new-drivers.html#nutdrv_qx-subdrivers">5.25. How to make a new subdriver to support another Q* UPS</a></span></dt></dl></dd><dt><span class="section"><a href="sock-protocol.html">6. Driver/server socket protocol</a></span></dt><dd><dl><dt><span class="section"><a href="sock-protocol.html#_formatting">6.1. Formatting</a></span></dt><dt><span class="section"><a href="sock-protocol.html#_commands_used_by_the_drivers">6.2. Commands used by the drivers</a></span></dt><dt><span class="section"><a href="sock-protocol.html#_commands_sent_by_the_server">6.3. Commands sent by the server</a></span></dt><dt><span class="section"><a href="sock-protocol.html#_design_notes">6.4. Design notes</a></span></dt></dl></dd><dt><span class="section"><a href="augeas.html">7. NUT configuration management with Augeas</a></span></dt><dd><dl><dt><span class="section"><a href="augeas.html#_introduction_2">7.1. Introduction</a></span></dt><dt><span class="section"><a href="augeas.html#_requirements">7.2. Requirements</a></span></dt><dt><span class="section"><a href="augeas.html#_create_a_test_sandbox">7.3. Create a test sandbox</a></span></dt><dt><span class="section"><a href="augeas.html#_start_testing_and_using">7.4. Start testing and using</a></span></dt><dt><span class="section"><a href="augeas.html#_complete_configuration_wizard_example">7.5. Complete configuration wizard example</a></span></dt></dl></dd><dt><span class="section"><a href="devscan.html">8. NUT device discovery</a></span></dt><dd><dl><dt><span class="section"><a href="devscan.html#_introduction_3">8.1. Introduction</a></span></dt><dt><span class="section"><a href="devscan.html#_python_2">8.2. Python</a></span></dt><dt><span class="section"><a href="devscan.html#_perl_2">8.3. Perl</a></span></dt><dt><span class="section"><a href="devscan.html#_java">8.4. Java</a></span></dt></dl></dd><dt><span class="section"><a href="new-clients.html">9. Creating new client</a></span></dt><dd><dl><dt><span class="section"><a href="new-clients.html#_c_c">9.1. C / C++</a></span></dt><dt><span class="section"><a href="new-clients.html#_python_3">9.2. Python</a></span></dt><dt><span class="section"><a href="new-clients.html#_perl_3">9.3. Perl</a></span></dt><dt><span class="section"><a href="new-clients.html#_java_2">9.4. Java</a></span></dt></dl></dd><dt><span class="section"><a href="net-protocol.html">10. Network protocol information</a></span></dt><dd><dl><dt><span class="section"><a href="net-protocol.html#_old_command_removal_notice">10.1. Old command removal notice</a></span></dt><dt><span class="section"><a href="net-protocol.html#_command_reference">10.2. Command reference</a></span></dt><dt><span class="section"><a href="net-protocol.html#_revision_history">10.3. Revision history</a></span></dt><dt><span class="section"><a href="net-protocol.html#_get">10.4. GET</a></span></dt><dt><span class="section"><a href="net-protocol.html#_list">10.5. LIST</a></span></dt><dt><span class="section"><a href="net-protocol.html#_set_3">10.6. SET</a></span></dt><dt><span class="section"><a href="net-protocol.html#_instcmd_3">10.7. INSTCMD</a></span></dt><dt><span class="section"><a href="net-protocol.html#_logout_2">10.8. LOGOUT</a></span></dt><dt><span class="section"><a href="net-protocol.html#_login">10.9. LOGIN</a></span></dt><dt><span class="section"><a href="net-protocol.html#_primary_since_nut_2_8_0_or_master_deprecated">10.10. PRIMARY (since NUT 2.8.0) or MASTER (deprecated)</a></span></dt><dt><span class="section"><a href="net-protocol.html#_fsd">10.11. FSD</a></span></dt><dt><span class="section"><a href="net-protocol.html#_password">10.12. PASSWORD</a></span></dt><dt><span class="section"><a href="net-protocol.html#_username">10.13. USERNAME</a></span></dt><dt><span class="section"><a href="net-protocol.html#_starttls">10.14. STARTTLS</a></span></dt><dt><span class="section"><a href="net-protocol.html#_other_commands">10.15. Other commands</a></span></dt><dt><span class="section"><a href="net-protocol.html#np-errors">10.16. Error responses</a></span></dt><dt><span class="section"><a href="net-protocol.html#_future_ideas">10.17. Future ideas</a></span></dt></dl></dd><dt><span class="section"><a href="dev-tools.html">11. NUT developers tools</a></span></dt><dd><dl><dt><span class="section"><a href="dev-tools.html#dev-simu">11.1. Device simulation</a></span></dt><dt><span class="section"><a href="dev-tools.html#dev-simu-disco">11.2. Simulated devices discovery</a></span></dt><dt><span class="section"><a href="dev-tools.html#dev-recording">11.3. Device recording</a></span></dt></dl></dd><dt><span class="section"><a href="_nut_core_development_and_maintenance.html">12. NUT core development and maintenance</a></span></dt><dd><dl><dt><span class="section"><a href="_nut_core_development_and_maintenance.html#_nut_specific_autoconf_macros">12.1. NUT-specific autoconf macros</a></span></dt><dt><span class="section"><a href="_nut_core_development_and_maintenance.html#roadmap">12.2. NUT roadmap and ideas for future expansion</a></span></dt></dl></dd><dt><span class="appendix"><a href="nut-names.html">A. NUT command and variable naming scheme</a></span></dt><dd><dl><dt><span class="section"><a href="_structured_naming.html">A.1. Structured naming</a></span></dt><dt><span class="section"><a href="_numeric_format.html">A.2. Numeric format</a></span></dt><dt><span class="section"><a href="_time_and_date_format.html">A.3. Time and Date format</a></span></dt><dt><span class="section"><a href="_variables.html">A.4. Variables</a></span></dt><dd><dl><dt><span class="section"><a href="_variables.html#_device_general_unit_information">device: General unit information</a></span></dt><dt><span class="section"><a href="_variables.html#_ups_general_unit_information">ups: General unit information</a></span></dt><dt><span class="section"><a href="_variables.html#_input_incoming_line_power_information">input: Incoming line/power information</a></span></dt><dt><span class="section"><a href="_variables.html#_output_outgoing_power_inverter_information">output: Outgoing power/inverter information</a></span></dt><dt><span class="section"><a href="_variables.html#_three_phase_additions">Three-phase additions</a></span></dt><dt><span class="section"><a href="_variables.html#_examples_2">EXAMPLES</a></span></dt><dt><span class="section"><a href="_variables.html#_battery_any_battery_details">battery: Any battery details</a></span></dt><dt><span class="section"><a href="_variables.html#_ambient_conditions_from_external_probe_equipment">ambient: Conditions from external probe equipment</a></span></dt><dt><span class="section"><a href="_variables.html#_outlet_smart_outlet_management">outlet: Smart outlet management</a></span></dt><dt><span class="section"><a href="_variables.html#_driver_internal_driver_information">driver: Internal driver information</a></span></dt><dt><span class="section"><a href="_variables.html#_server_internal_server_information">server: Internal server information</a></span></dt></dl></dd><dt><span class="section"><a href="_instant_commands_4.html">A.5. Instant commands</a></span></dt><dd><dl><dt><span class="section"><a href="_instant_commands_4.html#_experimental_instant_commands">Experimental instant commands</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="daisychain.html">B. NUT daisychain support notes</a></span></dt><dd><dl><dt><span class="section"><a href="_introduction_4.html">B.1. Introduction</a></span></dt><dt><span class="section"><a href="_implementation_notes.html">B.2. Implementation notes</a></span></dt><dd><dl><dt><span class="section"><a href="_implementation_notes.html#_general_specification">General specification</a></span></dt><dt><span class="section"><a href="_implementation_notes.html#_information_for_developers">Information for developers</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="lib-info.html">C. NUT libraries complementary information</a></span></dt><dd><dl><dt><span class="section"><a href="_introduction_5.html">C.1. Introduction</a></span></dt><dt><span class="section"><a href="_libupsclient_config.html">C.2. libupsclient-config</a></span></dt><dt><span class="section"><a href="_pkgconfig_support.html">C.3. pkgconfig support</a></span></dt><dt><span class="section"><a href="_example_configure_script.html">C.4. Example configure script</a></span></dt><dt><span class="section"><a href="_future_consideration.html">C.5. Future consideration</a></span></dt><dt><span class="section"><a href="_libtool_information.html">C.6. Libtool information</a></span></dt></dl></dd></dl></div></div><div xmlns="" class="navfooter nut_footer"><hr />
		Last updated 2025-11-07 23:55:35 -- Network UPS Tools 2.8.4.699</div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="_introduction.html">Next</a></td></tr></table></div></body></html>