<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 10.2.0" />
<title>UPSD.CONF(5)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
<meta name="format-detection" content="telephone=no" />
</head>
<body class="article">
<div id="header">
<h1>UPSD.CONF(5)</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph"><p>upsd.conf - Configuration for Network UPS Tools upsd data server</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p><a href="upsd.html">upsd(8)</a> uses this file to control access to the server and set some
other miscellaneous configuration values.  This file contains details on
access controls, so keep it secure.  Ideally, only the <code>upsd</code> process
should be able to read it.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_important_notes">IMPORTANT NOTES</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
Contents of this file should be pure ASCII (character codes
  not in range would be ignored with a warning message).
</p>
</li>
<li>
<p>
Balance the run-time user permissions to access the file (and perhaps the
  directory it is in) for only <code>upsd</code> to be able to read it; write access
  is not needed. It is common to use <code>chown root:nut</code> and <code>chmod 640</code>
  to set up acceptable file permissions.
</p>
<div class="ulist"><ul>
<li>
<p>
Packages (and build recipes) typically prepare one set of user and
    group accounts for NUT. Custom builds with minimal configuration might
    even use <code>nobody:nogroup</code> or similar, which is inherently insecure.
</p>
</li>
<li>
<p>
On systems with extra security concerns, NUT drivers and data server
    should run as separate user accounts which would be members of one
    same group for shared access to local Unix socket files and the
    directory they are in, but different groups for configuration file
    access. This would need some daemons to use customized <code>user</code>, <code>group</code>,
    <code>RUN_AS_USER</code> and/or <code>RUN_AS_GROUP</code> settings to override the single
    built-in value.
</p>
</li>
<li>
<p>
Note that the monitoring, logging, etc. clients are networked-only.
    They do not need access to these files and directories, and can run
    as an independent user and group altogether.
</p>
</li>
<li>
<p>
Keep in mind the security of also any backup copies of this file,
    e.g. the archive files it might end up in.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration_directives">CONFIGURATION DIRECTIVES</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>MAXAGE <em>seconds</em></strong>
</dt>
<dd>
<p>
<code>upsd</code> usually allows a driver to stop responding for up to 15 seconds
before declaring the data "stale".  If your driver takes a very long
time to process updates but is otherwise operational, you can use <code>MAXAGE</code>
to make <code>upsd</code> wait longer.
</p>
<div class="paragraph"><p>Most users should leave this at the default value.</p></div>
</dd>
<dt class="hdlist1">
<strong>TRACKINGDELAY <em>seconds</em></strong>
</dt>
<dd>
<p>
When instant commands and variables setting status tracking is enabled, status
execution information are kept during this amount of time, and then cleaned up.
This defaults to 3600 (1 hour).
</p>
</dd>
<dt class="hdlist1">
<strong>ALLOW_NO_DEVICE <em>Boolean</em></strong>
</dt>
<dd>
<p>
Normally upsd requires that at least one device section is defined in ups.conf
when the daemon starts, to serve its data.  For automatically managed services
it may be preferred to have upsd always running, and reload the configuration
when power devices become defined.
</p>
<div class="paragraph"><p>Boolean values <em>true</em>, <em>yes</em>, <em>on</em> and <em>1</em> mean that the server would not
refuse to start with zero device sections found in ups.conf.</p></div>
<div class="paragraph"><p>Boolean values <em>false</em>, <em>no</em>, <em>off</em> and <em>0</em> mean that the server should refuse
to start if zero device sections were found in ups.conf. This is the default,
unless the calling environment sets a same-named variable to enforce a value
for the current run. One way this can happen is somebody un-commenting it in
the <em>nut.conf</em> file used by init-scripts and service unit method scripts.</p></div>
</dd>
<dt class="hdlist1">
<strong>ALLOW_NOT_ALL_LISTENERS <em>Boolean</em></strong>
</dt>
<dd>
<p>
Normally upsd requires that all <code>LISTEN</code> directives can be honoured at the
moment the daemon starts. If your LAN IP address (or host name) used in one
of the <code>LISTEN</code> directives may be not always accessible, and for some reason
do not want to just <code>LISTEN *</code> on the wildcard interface, but e.g. you still
want to use <code>upsmon</code> on <code>localhost</code>, this option can help. Note you would
have to restart <code>upsd</code> to pick up the <code>LISTEN</code>'ed IP address if it appears
later.
</p>
<div class="paragraph"><p>Boolean values <em>true</em>, <em>yes</em>, <em>on</em> and <em>1</em> mean that the server would not
refuse to start if it can listen on at least one interface.</p></div>
<div class="paragraph"><p>Boolean values <em>false</em>, <em>no</em>, <em>off</em> and <em>0</em> mean that the server should
refuse to start if it can not LISTEN on each and every (non-localhost)
interface found in upsd.conf. This is the default, unless the calling
environment sets a same-named variable to enforce a value for the current run.
One way this can happen is somebody un-commenting it in the <em>nut.conf</em> file
used by init-scripts and service unit method scripts.</p></div>
</dd>
<dt class="hdlist1">
<strong>STATEPATH <em>path</em></strong>
</dt>
<dd>
<p>
Tell <code>upsd</code> to look for the driver state sockets in <em>path</em> rather
than the default that was compiled into the program.
</p>
<div class="paragraph"><p>Note that the drivers must use the same path, so <code>upsd</code> would prefer the
same-named setting from <code>ups.conf</code> global section, if present, over its own.</p></div>
<div class="paragraph"><p>Environment variable <code>NUT_STATEPATH</code> set by caller (e.g. init script
or service method) can override this setting.</p></div>
</dd>
<dt class="hdlist1">
<strong>LISTEN <em>interface</em> <em>port</em></strong>
</dt>
<dd>
<p>
Bind a listening port to the interface specified by its Internet address or
name.  This may be useful on hosts with multiple interfaces.
You should not rely exclusively on this for security, as it can be subverted
on many systems.
</p>
<div class="paragraph"><p>Optionally listen on TCP port <em>port</em> instead of the default value which was
compiled into the code.  This overrides any value you may have set with
<code>configure --with-port</code>.  If you don&#8217;t change it with configure or this value,
<code>upsd</code> will listen on port <em>3493</em> for this interface.</p></div>
<div class="paragraph"><p>Multiple <code>LISTEN</code> addresses may be specified.  The default is to bind to
<code>127.0.0.1</code> if no <code>LISTEN</code> addresses are specified (and also <code>::1</code> if IPv6
support is compiled in).</p></div>
<div class="paragraph"><p>To listen on all available interfaces and configured IP addresses of your
system, you may also use <code>::</code> for IPv6 and <code>0.0.0.0</code> for IPv4, respectively.
As a special case, a single <code>LISTEN * &lt;port&gt;</code> directive (with an asterisk) will
try to listen on both IPv6 (<code>::0</code>) and IPv4 (<code>0.0.0.0</code>) wild-card IP addresses,
subject to <code>upsd</code> command-line arguments or system configuration.
Note that if the system supports IPv4-mapped IPv6 addressing per RFC-3493,
and does not allow to disable this mode, then there may be one listening
socket to handle both address families.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>LISTEN 127.0.0.1
LISTEN 192.168.50.1
LISTEN myhostname.mydomain
LISTEN ::1
LISTEN 2001:0db8:1234:08d3:1319:8a2e:0370:7344</code></pre>
</div></div>
<div class="paragraph"><p>This parameter will only be read at startup.  You&#8217;ll need to restart
(rather than merely reload) <code>upsd</code> to apply any changes made here.</p></div>
<div class="paragraph"><p>Please note that older NUT releases could have been using the IPv4-mapped
IPv6 addressing (sometimes also known as "dual-stack") mode, if provided
by the system. Current versions (since NUT v2.8.1 release) explicitly try
to restrict their listening sockets to only support one address family on
each socket, and so avoid IPv4-mapped mode where possible.</p></div>
</dd>
<dt class="hdlist1">
<strong>MAXCONN <em>connections</em></strong>
</dt>
<dd>
<p>
This defaults to maximum number allowed on your system.  Each UPS, each
<code>LISTEN</code> address and each client count as one connection.  If the server
runs out of connections, it will no longer accept new incoming client
connections.  Only set this if you know exactly what you&#8217;re doing.
</p>
</dd>
<dt class="hdlist1">
<strong>CERTFILE <em>certificate file</em></strong>
</dt>
<dd>
<p>
When compiled with SSL support with OpenSSL backend, you can enter the
certificate file here.
</p>
<div class="paragraph"><p>The certificates must be in PEM format and must be sorted starting with
the subject&#8217;s certificate (server certificate), followed by intermediate
CA certificates (if applicable) and the highest level (root) CA. It should
end with the server key. See <code>docs/security.txt</code> in NUT sources, or the
Security chapter of NUT user manual, for more information on the SSL
support in NUT.</p></div>
</dd>
<dt class="hdlist1">
<strong>CERTPATH <em>certificate database</em></strong>
</dt>
<dd>
<p>
When compiled with SSL support with NSS backend, you can enter the
certificate path here.
</p>
<div class="paragraph"><p>Certificates are stored in a dedicated database (data split in 3 files).
Specify the path of the database directory.</p></div>
</dd>
<dt class="hdlist1">
<strong>CERTIDENT <em>certificate name</em> <em>database password</em></strong>
</dt>
<dd>
<p>
When compiled with SSL support with NSS backend, you can specify the
certificate name to retrieve from database to authenticate itself and
the password required to access certificate related private key.
</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Be sure to enclose "certificate name" in double-quotes if you
are using a value with spaces in it.</td>
</tr></table>
</div>
</dd>
<dt class="hdlist1">
<strong>CERTREQUEST <em>certificate request level</em></strong>
</dt>
<dd>
<p>
When compiled with SSL support with NSS backend and client certificate
validation (disabled by default, see &#8216;docs/security.txt` in NUT sources),
you can specify if <code>upsd</code> requests or requires clients&#8217; certificates.
</p>
<div class="paragraph"><p>Possible values are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>0</em> to not request to clients to provide any certificate
</p>
</li>
<li>
<p>
<em>1</em> to require to all clients a certificate
</p>
</li>
<li>
<p>
<em>2</em> to require to all clients a valid certificate
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong>DISABLE_WEAK_SSL <em>BOOLEAN</em></strong>
</dt>
<dd>
<p>
Tell <code>upsd</code> to disable older/weak SSL/TLS protocols and ciphers.
With relatively recent versions of OpenSSL or NSS it will be restricted
to TLSv1.2 or better.
</p>
<div class="paragraph"><p>Unless you have really ancient clients, you probably want to enable this.
Currently disabled by default to ensure compatibility with existing setups.</p></div>
</dd>
<dt class="hdlist1">
<strong>DEBUG_MIN <em>INTEGER</em></strong>
</dt>
<dd>
<p>
Optionally specify a minimum debug level for <code>upsd</code> data daemon, e.g. for
troubleshooting a deployment, without impacting foreground or background
running mode directly. Command-line option <code>-D</code> can only increase this
verbosity level.
</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If the running daemon receives a <code>reload</code> command, presence of the
<code>DEBUG_MIN NUMBER</code> value in the configuration file can be used to tune
debugging verbosity in the running service daemon (it is recommended to
comment it away or set the minimum to explicit zero when done, to avoid
huge journals and I/O system abuse). Keep in mind that for this run-time
tuning, the <code>DEBUG_MIN</code> value <strong>present</strong> in <strong>reloaded</strong> configuration files
is applied instantly and overrides any previously set value, from file
or CLI options, regardless of older logging level being higher or lower
than the newly found number; a missing (or commented away) value however
does not change the previously active logging verbosity.</td>
</tr></table>
</div>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph"><p><a href="upsd.html">upsd(8)</a>, <a href="nutupsdrv.html">nutupsdrv(8)</a>, <a href="upsd.users.html">upsd.users(5)</a></p></div>
<div class="sect2">
<h3 id="_internet_resources">Internet resources:</h3>
<div class="paragraph"><p>The NUT (Network UPS Tools) home page: <a href="https://www.networkupstools.org/">https://www.networkupstools.org/</a></p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2025-06-03 08:50:51 UTC -- Network UPS Tools 2.8.3.564
</div>
</div>
</body>
</html>
